# Server Configuration
server.port=8080

# Gateway Service URLs
# Can be overridden by environment variables:
# GATEWAY_USER_URL, GATEWAY_RESERVATION_URL, GATEWAY_EMAIL_URL, GATEWAY_EMPLOYEE_URL
gateway.services.user=${GATEWAY_USER_URL:http://localhost:8081}
gateway.services.reservation=${GATEWAY_RESERVATION_URL:http://localhost:8082}
gateway.services.email=${GATEWAY_EMAIL_URL:http://localhost:8083}
gateway.services.employee=${GATEWAY_EMPLOYEE_URL:http://localhost:8084}

# CORS Configuration
# Can be overridden by environment variable: CORS_ALLOWED_ORIGINS
# For multiple origins, use comma-separated values: http://localhost:3000,http://localhost:3001
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}

# Actuator Configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# Logging
logging.level.org.springframework.cloud.gateway=INFO
logging.level.com.example.bookfair=DEBUG

# Gateway Configuration
# Ensure sensitive headers like Authorization are not filtered
spring.cloud.gateway.filter.remove-request-header=Host
spring.cloud.gateway.filter.remove-response-header=Content-Length

# CORS Configuration - Ensure OPTIONS requests are handled
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origins=http://localhost:3000
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allow-credentials=true
spring.cloud.gateway.globalcors.cors-configurations.[/**].max-age=3600

